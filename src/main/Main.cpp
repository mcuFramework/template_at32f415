
/**
 * Copyright (c) 2020 ZxyKira
 * All rights reserved.
 * 
 * SPDX-License-Identifier: MIT
 */

/* ****************************************************************************************
 * Include
 */  
#include <stdio.h>

//-----------------------------------------------------------------------------------------
#include "mcuf.h"
#include "driver.h"
#include "core_arterytek_at32f415.h"

//-----------------------------------------------------------------------------------------

/* ****************************************************************************************
 * Using
 */
 
//-----------------------------------------------------------------------------------------

//-----------------------------------------------------------------------------------------
using mcuf::lang::Thread;

/* ****************************************************************************************
 * Extern
 */

/* ****************************************************************************************
 * Class
 */

/* ****************************************************************************************
 * Variable
 */
hal::general::GeneralPin* led[8];

/* ****************************************************************************************
 * Method
 */

void setup(Thread* _this){
  for(int i=0; i<8; ++i){
    led[i] = new arterytek::at32f415::general::CoreGeneralPin(arterytek::at32f415::Core::gpiob, i);
    led[i]->setOutput();
    led[i]->setLow();
  }
  System::out().print("init\n");
  _this->delay(100);
}

void loop(Thread* _this){
  for(int i=0; i<8; ++i){
    led[i]->setToggle();
    _this->delay(100);
  }
}
 
/* ****************************************************************************************
 * End of file
 */ 
